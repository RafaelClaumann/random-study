name: Github API Calls

on:
  - workflow_dispatch

jobs:
  comment:
   runs-on: ubuntu-latest
   steps:
    - uses: actions/github-script@v6
      id: my-script
      with:
        result-encoding: string
        retries: 3
        script: |
          let opts = github.rest.branch.list({
            owner: context.repo.owner,
            repo: context.repo.repo,
          })
          
          const issues = await github.request(opts)
          console.log(issues)
          
    - name: Get result
      run: echo "${{steps.my-script.outputs.result}}"          
